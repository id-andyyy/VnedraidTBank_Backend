# Mojarung Investments API

## –û –ø—Ä–æ–µ–∫—Ç–µ

**Mojarung Investments API** - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç AI (LLM) –¥–ª—è –∏—Ö –∞–Ω–∞–ª–∏–∑–∞, –æ–±–æ–≥–∞—â–µ–Ω–∏—è –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å API –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–π (–≤ —Ä–µ–∂–∏–º–µ –ø–µ—Å–æ—á–Ω–∏—Ü—ã) –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–æ–≤–æ—Å—Ç–Ω—É—é –ª–µ–Ω—Ç—É, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ –∏—Ö –∏–Ω—Ç–µ—Ä–µ—Å–∞—Ö –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö, –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º.

## –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ë—ç–∫–µ–Ω–¥**: Python, FastAPI
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQLAlchemy ORM)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ AI**:
  - `transformers`, `torch`, `sentence-transformers` –¥–ª—è NLP-–∑–∞–¥–∞—á.
  - –í–Ω–µ—à–Ω–∏–π LLM-—Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–∞.
- **–ü–∞—Ä—Å–∏–Ω–≥**: `BeautifulSoup`, `requests`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT-—Ç–æ–∫–µ–Ω—ã —Å `passlib` –∏ `python-jose`.
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: `asyncio`, `uvicorn`.
- **–†–∞–±–æ—Ç–∞ —Å API**: `tinkoff-investments` (–¥–ª—è –ø–µ—Å–æ—á–Ω–∏—Ü—ã), `tpulse` (–¥–ª—è —Å–æ—Ü—Å–µ—Ç–∏ "–ü—É–ª—å—Å").

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º (–≤–∫–ª—é—á–∞—è —Ç–æ–∫–µ–Ω—ã –¥–ª—è API –∏ Telegram ID).
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤/–¥–∏–∑–ª–∞–π–∫–æ–≤ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä–∞—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ —Ç–µ–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–∏–∫–µ—Ä—ã –∫–æ–º–ø–∞–Ω–∏–π –≤ "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ".
- **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**:
  - **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–ø–∞–Ω–∏–π**: –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö —Å TradingView, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏, –ª–æ–≥–æ—Ç–∏–ø) —Å –ø–æ–º–æ—â—å—é LLM.
  - **–ü–∞—Ä—Å–∏–Ω–≥ –Ω–æ–≤–æ—Å—Ç–µ–π**: –°–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –†–ë–ö), —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–≥–æ–≤, –ø–æ–∏—Å–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —á–∏—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Tinkoff**:
  - **Sandbox API**: –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏, –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞, —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫, –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π.
  - **Pulse API**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ –ø–æ—Å—Ç–∞—Ö –ø–æ —Ç–∏–∫–µ—Ä—É –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ "–ü—É–ª—å—Å".
- **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ LLM**: –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª—å—é.

---

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Health Check üëå
- **GET** `/api/health`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞.
  - **–û—Ç–≤–µ—Ç**: `{"status": "ok"}`

### Auth üîë
- **POST** `/api/auth/register`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `UserCreate` (email, username, password).
  - **–û—Ç–≤–µ—Ç**: `User`
- **POST** `/api/auth/login`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É, –ø–æ–ª—É—á–µ–Ω–∏–µ JWT.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: Form data (username, password).
  - **–û—Ç–≤–µ—Ç**: `Token`
- **GET** `/api/auth/me`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  - **–û—Ç–≤–µ—Ç**: `User`
- **PUT** `/api/auth/me`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `UserUpdate`
  - **–û—Ç–≤–µ—Ç**: `User`
- **PUT** `/api/auth/me/invest-token`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ Tinkoff Invest.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{"invest_token": "string"}`
- **PUT** `/api/auth/me/telegram-id`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{"telegram_id": "string"}`

### Users üôã‚Äç‚ôÇÔ∏è
- **GET** `/api/users/me/tags`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ —Ç–µ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏.
- **POST** `/api/users/me/like`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –õ–∞–π–∫–Ω—É—Ç—å –Ω–æ–≤–æ—Å—Ç—å (–ø–æ–≤—ã—à–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ —Ç–µ–≥–æ–≤ –Ω–æ–≤–æ—Å—Ç–∏).
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{"news_id": integer}`
- **POST** `/api/users/me/dislike`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–∏–∑–ª–∞–π–∫–Ω—É—Ç—å –Ω–æ–≤–æ—Å—Ç—å (–ø–æ–Ω–∏–∂–∞–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ —Ç–µ–≥–æ–≤).
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{"news_id": integer}`
- **GET** `/api/users/me/tickers`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤.
- **POST** `/api/users/me/tickers`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ä –≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `{"company_id": integer}`
- **DELETE** `/api/users/me/tickers/{ticker}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å —Ç–∏–∫–µ—Ä –∏–∑ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö.

### News üóûÔ∏è
- **GET** `/api/news/`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π. –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`filter=true`).
- **GET** `/api/news/{news_id}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å –ø–æ ID.

### Invest üí∏ (Tinkoff Sandbox)
- **GET** `/api/invest/sandbox/accounts`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å—á–µ—Ç–∞ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **POST** `/api/invest/sandbox/accounts`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—ã–π —Å—á–µ—Ç –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **DELETE** `/api/invest/sandbox/accounts/{account_id}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–∫—Ä—ã—Ç—å —Å—á–µ—Ç –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **GET** `/api/invest/sandbox/balance`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **POST** `/api/invest/sandbox/topup`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **POST** `/api/invest/sandbox/orders`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É (–∫—É–ø–∏—Ç—å/–ø—Ä–æ–¥–∞—Ç—å) –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.
- **GET** `/api/invest/sandbox/tradable-shares`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∞–∫—Ü–∏–π.
- **GET** `/api/invest/sandbox/operations`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ —Å—á–µ—Ç—É.

### Companies parsers üè¢ (TradingView)
- **POST** `/api/tradingview/parse`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–º–ø–∞–Ω–∏–π —Å TradingView.
- **GET** `/api/tradingview/companies`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω–∏–π –∏–∑ –ë–î —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
- **GET** `/api/tradingview/companies/{ticker}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ —Ç–∏–∫–µ—Ä—É.

### News parsers üîç
- **POST** `/api/parsers/run`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π.
- **GET** `/api/parsers/news`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.
- **GET** `/api/parsers/raw-news`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—ã—Ä—ã—Ö (–Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö) –Ω–æ–≤–æ—Å—Ç–µ–π.

### Pulse üí¨
- **GET** `/api/pulse/user/{username}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏–∑ —Å–æ—Ü—Å–µ—Ç–∏ "–ü—É–ª—å—Å".
- **GET** `/api/pulse/user/{user_id}/posts`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "–ü—É–ª—å—Å" –ø–æ ID.
- **GET** `/api/pulse/ticker/{ticker}/posts`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç—ã –∏–∑ "–ü—É–ª—å—Å–∞" –ø–æ —Ç–∏–∫–µ—Ä—É.

### LLM & Recommendations ü§ñ
- **POST** `/api/llm`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ –ø—Ä–æ–º–ø—Ç—É.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `LLMRequest` (prompt, model, –∏ –¥—Ä. –ø–∞—Ä–∞–º–µ—Ç—Ä—ã).
  - **–û—Ç–≤–µ—Ç**: `LLMResponse`
- **POST** `/api/recommendations/news/{news_id}`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–æ–≤–æ—Å—Ç–∏, –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–π –∏—Å—Ç–æ—Ä–∏–∏.
  - **–û—Ç–≤–µ—Ç**: `RecommendationResponse`
- **POST** `/api/assistant/ask`
  - **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É –ø–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å—Ç–∞—Ç—å–∏.
  - **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**: `NewsAssistantRequest`
  - **–û—Ç–≤–µ—Ç**: `NewsAssistantResponse`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –ª—É—á—à–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞:

- `app/main.py`: –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `app/api/`: –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É API.
  - `routes/`: –ú–∞—Ä—à—Ä—É—Ç—ã (—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã) FastAPI, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–æ–¥—É–ª—è–º (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –Ω–æ–≤–æ—Å—Ç–∏, –ø–∞—Ä—Å–µ—Ä—ã –∏ —Ç.–¥.).
  - `deps.py`: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–µ—Å—Å–∏—è –ë–î).
- `app/core/`: –Ø–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
  - `config.py`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`pydantic-settings`).
  - `constants.py`: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞.
- `app/db/`: –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.
  - –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–π SQLAlchemy.
- `app/models/`: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö SQLAlchemy ORM.
- `app/schemas/`: –°—Ö–µ–º—ã Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ API.
- `app/utils/`: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã.
- `app/prompts/`: –®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM.
- `create_tables.py`: –°–∫—Ä–∏–ø—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
- `requirements.txt`: –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python.

---

## –ú–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥–µ–ª–∏ SQLAlchemy –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ:

- **User (`users`)**:
  - –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö, –≤–∫–ª—é—á–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–∫–µ–Ω—ã, Telegram ID), –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–∫–µ—Ä—ã –∏ –≤–µ—Å–∞ –∏–Ω—Ç–µ—Ä–µ—Å–æ–≤ –ø–æ —Ç–µ–≥–∞–º –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –ª–µ–Ω—Ç—ã.

- **RawNews (`raw_news`)**:
  - –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è "—Å—ã—Ä—ã—Ö" –Ω–æ–≤–æ—Å—Ç–µ–π, –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø–∞—Ä—Å–µ—Ä–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –≤ LLM.

- **NewsArticle (`news_articles`)**:
  - –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã, –æ—á–∏—â–µ–Ω—ã –∏ –æ–±–æ–≥–∞—â–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é LLM. –°–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Ç–µ–≥–∏ –∏ —É–ø–æ–º—è–Ω—É—Ç—ã–µ —Ç–∏–∫–µ—Ä—ã.

- **TradingViewCompany (`tradingview_companies`)**:
  - –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö, –ø–æ–ª—É—á–µ–Ω–Ω—É—é —Å TradingView. –í–∫–ª—é—á–∞–µ—Ç —Ç–∏–∫–µ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å—Å—ã–ª–∫—É, –∞ —Ç–∞–∫–∂–µ –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–µ LLM-–º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã–µ: –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–≥–∏ –∏ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

---

## –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö (Pydantic Models)

- **User**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ.
  - `id`, `email`, `username`, `is_active`, `invest_token`, `telegram_id`, `created_at`, `updated_at`.
- **NewsArticle**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—É—é –Ω–æ–≤–æ—Å—Ç—å.
  - `id`, `title`, `full_text`, `summary`, `is_positive`, `is_ai_generated`, `tags`, `tickers`, `created_at`.
- **RawNews**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—ã—Ä—É—é –Ω–æ–≤–æ—Å—Ç—å –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ LLM.
  - `id`, `title`, `full_text`, `source`, `created_at`.
- **TradingViewCompany**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–∞–Ω–∏—é, —Å–ø–∞—Ä—Å–µ–Ω–Ω—É—é —Å TradingView.
  - `id`, `ticker`, `company_name`, `link`, `image_url`, `description`, `tags`, `created_at`.
- **LLMRequest**: –ó–∞–ø—Ä–æ—Å –∫ —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏.
  - `prompt`, `model`, `max_tokens`, `temperature`, `role`.
- **LLMResponse**: –û—Ç–≤–µ—Ç –æ—Ç —è–∑—ã–∫–æ–≤–æ–π –º–æ–¥–µ–ª–∏.
  - `response`, `execution_time`.
- **RecommendationResponse**: –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è.
  - `buy`, `sell`, `confidence`, `reasoning`, `ticker`, `quantity`.
- **NewsAssistantRequest**: –ó–∞–ø—Ä–æ—Å –∫ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—É –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º.
  - `news_text`, `question`.
- **NewsAssistantResponse**: –û—Ç–≤–µ—Ç –æ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –ø–æ –Ω–æ–≤–æ—Å—Ç—è–º.
  - `answer`.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
    ```bash
    git clone https://github.com/id-andyyy/VnedraidTBank_Backend.git
    cd VnedraidTBank_Backend
    ```

2.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    python -m venv .venv
    source .venv/bin/activate  # –î–ª—è Windows: .venv\Scripts\activate
    ```

3.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
    ```bash
    pip install -r requirements.txt
    ```

4.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    - –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `.env.example`, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å).
    - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
      ```env
      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
      POSTGRES_HOST=localhost
      POSTGRES_PORT=5432
      POSTGRES_USER=your_user
      POSTGRES_PASSWORD=your_password
      POSTGRES_DB=your_db

      # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT —Ç–æ–∫–µ–Ω–æ–≤ (–º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `openssl rand -hex 32`)
      SECRET_KEY=edb486bb3cf76d9ceb6cd4b7ed3f8d75f9e0849564a9d7bc87227f5425f56c5a
      ALGORITHM=HS256
      ACCESS_TOKEN_EXPIRE_MINUTES=30
      ```

5.  **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:**
    - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∑–∞–ø—É—â–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –≤ `.env` –∫—Ä–µ–¥–∞–º–∏.
    - –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü:
    ```bash
    python create_tables.py
    ```

6.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
    ```bash
    uvicorn app.main:app --reload
    ```
–°–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:8000`. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI (Swagger) –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:8000/docs`.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).